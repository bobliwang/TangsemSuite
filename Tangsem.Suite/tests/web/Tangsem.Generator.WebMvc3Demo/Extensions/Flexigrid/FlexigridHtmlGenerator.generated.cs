#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.530
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Tangsem.Generator.WebMvc3Demo.Extensions.Flexigrid
{
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Text;
    
    #line 3 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
    using Tangsem.Common.Extensions;
    
    #line default
    #line hidden
    
    #line 4 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
    using Tangsem.Generator.WebMvc3Demo.Extensions.Flexigrid;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "1.4.1.0")]
    public partial class FlexigridHtmlGenerator : RazorGenerator.Templating.RazorTemplateBase
    {
#line hidden

        #line 6 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"

  public FlexigridWrapper FlexigridWrapper { get; set; }
  public FlexigridHtmlOptions FlexigridHtmlOptions { get; set; }

        #line default
        #line hidden

        public override void Execute()
        {


WriteLiteral("\r\n\r\n");



WriteLiteral("\r\n");


WriteLiteral("\r\n\r\n");


            
            #line 11 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
  
  var grid = this.FlexigridWrapper.WebGrid;
  
  var options = this.FlexigridHtmlOptions;
  
  var tableId = ((object)options.HtmlAttributes).GetPropertyValue("id") as string;
  
  if (tableId == null)
  {
    throw new Exception("TableId is required in HtmlAttributes!");
  }


            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 24 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
Write(grid.GetHtml(
    options.TableStyle,
    options.HeaderStyle,
    options.FooterStyle,
    options.RowStyle,
    options.AlternatingRowStyle,
    options.SelectedRowStyle,
    options.Caption,
    options.DisplayHeader,
    options.FillEmptyRows,
    options.EmptyRowCellValue,
    options.Columns,
    options.Exclusions,
    options.Mode,
    options.FirstText,
    options.PreviousText,
    options.NextText,
    options.LastText,
    options.NumericLinksCount,
    options.HtmlAttributes));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\r\n<script language=\"javascript\" type=\"text/javascript\">\r\n  $(function () {\r\n " +
"   \r\n");


            
            #line 49 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
      
      var i = 0;
      foreach (var col in options.Columns)
      {
            
            #line default
            #line hidden
WriteLiteral("\r\n            $(\'#");


            
            #line 53 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
            Write(tableId);

            
            #line default
            #line hidden
WriteLiteral(" th:nth-child(");


            
            #line 53 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                    Write(++i);

            
            #line default
            #line hidden
WriteLiteral(")\').attr(\'width\', ");


            
            #line 53 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                            Write(col.HeaderWidth);

            
            #line default
            #line hidden
WriteLiteral(");\r\n      ");


            
            #line 54 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
             }
    

            
            #line default
            #line hidden
WriteLiteral("    \r\n    $(\'#");


            
            #line 57 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
    Write(tableId);

            
            #line default
            #line hidden
WriteLiteral(" tfoot\').remove();\r\n    \r\n    $(\'#");


            
            #line 59 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
    Write(tableId);

            
            #line default
            #line hidden
WriteLiteral("\').flexigrid({\r\n      width:     ");


            
            #line 60 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
             Write(options.FlexiWidth);

            
            #line default
            #line hidden
WriteLiteral(",\r\n      height:    ");


            
            #line 61 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
             Write(options.FlexiHeight);

            
            #line default
            #line hidden
WriteLiteral(",\r\n      title:    \'");


            
            #line 62 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
             Write(options.Title);

            
            #line default
            #line hidden
WriteLiteral("\',\r\n      usepager: true,\r\n      useRp: false,\r\n      total: ");


            
            #line 65 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
         Write(grid.TotalRowCount);

            
            #line default
            #line hidden
WriteLiteral(",\r\n      rp: ");


            
            #line 66 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
      Write(grid.RowsPerPage);

            
            #line default
            #line hidden
WriteLiteral(",\r\n      page: ");


            
            #line 67 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
        Write(grid.PageIndex);

            
            #line default
            #line hidden
WriteLiteral("\r\n    });\r\n    \r\n    \r\n\r\n    \r\n");


            
            #line 73 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
      
      var firstPage = grid.GetPageUrl(0);
      var lastPage =  grid.GetPageUrl(grid.PageCount - 1 >= 0 ? grid.PageCount - 1 : 0);
      var prevPage =  grid.GetPageUrl(grid.PageIndex - 1 >= 0 ? grid.PageIndex - 1 : 0);
      var nextPage =  grid.GetPageUrl(grid.PageIndex + 1 < grid.PageCount ? grid.PageIndex + 1 : grid.PageIndex);
      var pageUrlTemplate = firstPage;
    

            
            #line default
            #line hidden
WriteLiteral("\r\n    $(\'.pcontrol input\').val(");


            
            #line 81 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                         Write(grid.PageIndex + 1);

            
            #line default
            #line hidden
WriteLiteral(");\r\n    $(\'.pcontrol span\').html(\'");


            
            #line 82 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                          Write(grid.PageCount);

            
            #line default
            #line hidden
WriteLiteral("\');\r\n    $(\'.pPageStat\').html(\'Displaying ");


            
            #line 83 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                 Write(grid.PageIndex * grid.RowsPerPage + 1);

            
            #line default
            #line hidden
WriteLiteral(" to ");


            
            #line 83 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                             Write(Math.Min((grid.PageIndex+1) * grid.RowsPerPage, grid.TotalRowCount));

            
            #line default
            #line hidden
WriteLiteral(" of ");


            
            #line 83 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                                                                                                       Write(grid.TotalRowCount);

            
            #line default
            #line hidden
WriteLiteral(" items.\');\r\n    \r\n    var goPage = function() {\r\n      var template = \'");


            
            #line 86 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                  Write(pageUrlTemplate);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n      var url = template.replace(\'");


            
            #line 87 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                              Write(grid.PageFieldName);

            
            #line default
            #line hidden
WriteLiteral("=1\', \'");


            
            #line 87 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                         Write(grid.PageFieldName);

            
            #line default
            #line hidden
WriteLiteral("=\' + $(\'.pcontrol input\').val());\r\n      $.pjax( {url: url, container: \'#");


            
            #line 88 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                  Write(this.FlexigridWrapper.ContainerId);

            
            #line default
            #line hidden
WriteLiteral(@"' });
    };
    
    $('.pcontrol input').change(goPage);
    $('.pcontrol input').keyup(goPage);
    $('.pReload').click(goPage);
    
    var numOnly = function (evt) {
      var e = window.event || evt; // for trans-browser compatibility  
      var charCode = e.which || e.keyCode;  
      if ((charCode > 47 && charCode < 58) || charCode == 8){
        return true;
      }  
      return false;
    };

    $('.pcontrol input').keypress(numOnly);
    
    $('.pFirst').click(function(){$.pjax({url:'");


            
            #line 106 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                           Write(firstPage);

            
            #line default
            #line hidden
WriteLiteral("\', container:\'#");


            
            #line 106 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                      Write(this.FlexigridWrapper.ContainerId);

            
            #line default
            #line hidden
WriteLiteral("\'});});\r\n    $(\'.pLast\').click(function(){$.pjax({url:\'");


            
            #line 107 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                          Write(lastPage);

            
            #line default
            #line hidden
WriteLiteral("\', container:\'#");


            
            #line 107 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                    Write(this.FlexigridWrapper.ContainerId);

            
            #line default
            #line hidden
WriteLiteral("\'});});\r\n    $(\'.pPrev\').click(function(){$.pjax({url:\'");


            
            #line 108 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                          Write(prevPage);

            
            #line default
            #line hidden
WriteLiteral("\', container:\'#");


            
            #line 108 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                    Write(this.FlexigridWrapper.ContainerId);

            
            #line default
            #line hidden
WriteLiteral("\'});});\r\n    $(\'.pNext\').click(function(){$.pjax({url:\'");


            
            #line 109 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                          Write(nextPage);

            
            #line default
            #line hidden
WriteLiteral("\', container:\'#");


            
            #line 109 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
                                                                    Write(this.FlexigridWrapper.ContainerId);

            
            #line default
            #line hidden
WriteLiteral("\'});});\r\n    \r\n\r\n");


            
            #line 112 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
     if (options.FooterFormat != null)
    {
      var newFooter = string.Format("<tfoot><tr><td colspan=\"{0}\">{1}</td></tr></tfoot>"
        , options.Columns.Count()
        , Convert.ToString(options.FooterFormat(null)));

      newFooter = newFooter.Replace("'", "\\'").Replace(Environment.NewLine, "");


            
            #line default
            #line hidden
WriteLiteral("      ");

WriteLiteral("\r\n      $(\'#\" + tableId + \"\').append(\'\" + newFooter + \"\');\r\n      ");

WriteLiteral("\r\n");


            
            #line 123 "..\..\Extensions\Flexigrid\FlexigridHtmlGenerator.cshtml"
    }

            
            #line default
            #line hidden
WriteLiteral("    \r\n  });\r\n</script>");


        }
    }
}
#pragma warning restore 1591
